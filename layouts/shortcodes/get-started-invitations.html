{{- $data := .Page.Params.invitations -}}
{{- if not $data -}}
  {{- warnf "get-started-invitations shortcode: invitations data not provided for %s" .Page.File.Path -}}
  {{- return -}}
{{- end -}}

<section id="invitations-section" class="py-20 bg-gray-50">
  <div class="container mx-auto px-6">
    <div class="max-w-5xl mx-auto">
      <div class="flex items-center space-x-4 mb-12">
        {{- with $data.step_number -}}
          <div class="step-number w-12 h-12 bg-gradient-to-br from-hologram-primary to-hologram-secondary rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg">{{ . }}</div>
        {{- end -}}
        {{- with $data.title -}}
          <h2 class="text-4xl font-bold text-gray-900">{{ . }}</h2>
        {{- end -}}
      </div>

      <div class="grid lg:grid-cols-1 gap-8">
        <div>
          {{- with $data.description -}}
            {{- partial "get-started/richtext.html" (dict
              "content" .
              "p_class" "text-lg text-gray-700 mb-8 leading-relaxed"
              "a_class" "text-hologram-primary hover:text-hologram-dark font-semibold underline"
              "code_class" "px-2 py-1 bg-white rounded text-hologram-primary font-mono border border-gray-200"
            ) -}}
          {{- end -}}

          <div class="space-y-4">
            {{- range $data.endpoints -}}
              {{- $endpoint := . -}}
              <div class="bg-white border border-gray-200 rounded-xl p-6">
                <div class="flex items-center justify-between mb-3">
                  <h4 class="font-semibold text-gray-900 flex items-center">
                    {{- if $endpoint.icon -}}
                      <i class="{{ $endpoint.icon }} {{ $endpoint.icon_color | default "text-hologram-primary" }} mr-2"></i>
                    {{- end -}}
                    {{- $endpoint.title -}}
                  </h4>
                  {{- with $endpoint.badge_text -}}
                    <span class="px-3 py-1 {{ $endpoint.badge_class | default "bg-green-100 text-green-700" }} rounded-full text-xs font-semibold">{{ . }}</span>
                  {{- end -}}
                </div>
                {{- with $endpoint.code -}}
                  <code class="text-sm text-gray-600 font-mono">{{ . }}</code>
                {{- end -}}
              </div>
            {{- end -}}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
