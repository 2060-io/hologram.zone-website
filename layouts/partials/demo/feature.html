{{- $id := default "demo-section" .id -}}
{{- $background := default "bg-white" .background -}}
{{- $reverseRaw := printf "%v" (default false .reverse) -}}
{{- $reverse := in (slice "true" "1" "True" "TRUE" "yes") $reverseRaw -}}
{{- $kickerText := .kicker_text -}}
{{- $kickerIcon := .kicker_icon -}}
{{- $kickerClass := default "bg-hologram-primary/10 text-hologram-primary" .kicker_class -}}
{{- $title := .title -}}
{{- $titleIcon := .title_icon -}}
{{- $titleIconColor := default "text-hologram-primary" .title_icon_color -}}
{{- $description := .description -}}
{{- $body := .body -}}
{{- $imageSrc := .image_src -}}
{{- $imageAlt := default "" .image_alt -}}
{{- $imageGradient := default "from-hologram-primary/10 to-hologram-secondary/10" .image_gradient_class -}}
{{- $imageHeight := default "h-96" .image_height_class -}}
{{- $textOrder := "order-1" -}}
{{- $imageOrder := "order-2" -}}
{{- if $reverse -}}
  {{- $textOrder = "order-1 lg:order-2" -}}
  {{- $imageOrder = "order-2 lg:order-1" -}}
{{- else -}}
  {{- $textOrder = "order-1" -}}
  {{- $imageOrder = "order-2" -}}
{{- end -}}
{{- $primary := .primary -}}
{{- $secondary := .secondary -}}
{{- $mediaHTML := .media_html -}}
<section id="{{ $id }}" class="py-20 {{ $background }}">
  <div class="container mx-auto px-6">
    <div class="max-w-6xl mx-auto">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="{{ $textOrder }}">
          {{ if $kickerText }}
            <div class="inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold mb-4 {{ $kickerClass }}">
              {{ if $kickerIcon }}<i class="{{ $kickerIcon }} mr-2"></i>{{ end }}
              <span>{{ $kickerText }}</span>
            </div>
          {{ end }}
          {{ if $title }}
            <h2 class="text-4xl font-bold text-gray-900 mb-6">
              {{ if $titleIcon }}<i class="{{ $titleIcon }} {{ $titleIconColor }} mr-3"></i>{{ end }}
              {{ $title | safeHTML }}
            </h2>
          {{ end }}
          {{ with $description }}
            <div class="text-lg text-gray-600 mb-6 leading-relaxed">{{ . | safeHTML }}</div>
          {{ end }}
          {{ with $body }}
            <div class="space-y-4 mb-8">{{ . | safeHTML }}</div>
          {{ end }}
          {{ if or $primary $secondary }}
            <div class="flex flex-col sm:flex-row gap-4 mb-8">
              {{ with $primary }}
                {{ $style := lower (default "primary" .style) }}
                {{ $url := .url }}
                {{ $label := .label }}
                {{ $icon := .icon }}
                {{ $btnClass := "inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 shadow-sm bg-hologram-primary text-white hover:bg-hologram-secondary" }}
                {{ if eq $style "secondary" }}
                  {{ $btnClass = "inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 shadow-sm bg-hologram-secondary text-white hover:bg-hologram-dark" }}
                {{ else if eq $style "dark" }}
                  {{ $btnClass = "inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 shadow-sm bg-gray-900 text-white hover:bg-hologram-primary" }}
                {{ else if eq $style "light" }}
                  {{ $btnClass = "inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 shadow-sm bg-white border border-gray-200 text-gray-900 hover:border-hologram-primary" }}
                {{ end }}
                {{ $isExternal := or (strings.HasPrefix $url "http") (strings.HasPrefix $url "mailto:") }}
                <a href="{{ $url }}" class="{{ $btnClass }}"{{ if $isExternal }} target="_blank" rel="noopener noreferrer"{{ end }}>
                  {{ if $icon }}<i class="{{ $icon }} mr-2"></i>{{ end }}
                  <span>{{ $label }}</span>
                </a>
              {{ end }}
              {{ with $secondary }}
                {{ $style := lower (default "light" .style) }}
                {{ $url := .url }}
                {{ $label := .label }}
                {{ $icon := .icon }}
                {{ $btnClass := "inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 bg-gray-100 text-gray-700 hover:bg-gray-200" }}
                {{ if eq $style "outline" }}
                  {{ $btnClass = "inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 border-2 border-hologram-primary text-hologram-primary hover:bg-hologram-primary hover:text-white" }}
                {{ else if eq $style "secondary" }}
                  {{ $btnClass = "inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 bg-hologram-secondary text-white hover:bg-hologram-dark" }}
                {{ else if eq $style "dark" }}
                  {{ $btnClass = "inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 bg-gray-900 text-white hover:bg-hologram-primary" }}
                {{ end }}
                {{ $isExternal := or (strings.HasPrefix $url "http") (strings.HasPrefix $url "mailto:") }}
                <a href="{{ $url }}" class="{{ $btnClass }}"{{ if $isExternal }} target="_blank" rel="noopener noreferrer"{{ end }}>
                  {{ if $icon }}<i class="{{ $icon }} mr-2"></i>{{ end }}
                  <span>{{ $label }}</span>
                </a>
              {{ end }}
            </div>
          {{ end }}
        </div>
        {{ if or $imageSrc $mediaHTML }}
          <div class="{{ $imageOrder }} relative">
            <div class="bg-gradient-to-br {{ $imageGradient }} rounded-2xl p-8">
              {{ if $mediaHTML }}
                {{ $mediaHTML | safeHTML }}
              {{ else }}
                <div class="{{ $imageHeight }} overflow-hidden rounded-xl">
                  <img class="w-full h-full object-contain" src="{{ $imageSrc }}" alt="{{ $imageAlt }}">
                </div>
              {{ end }}
            </div>
          </div>
        {{ end }}
      </div>
    </div>
  </div>
</section>
